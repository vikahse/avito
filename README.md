### **Запуск проекта через docker-compose:**
-------------------------- 

`docker-compose up --build`

### **Примеры запросов с ответами:**
-------------------------- 

#### **Регистрация пользователя с уникальными именами:**
-------------------------- 
#### Запросы на регистрацию двух типов - админ и обычный пользователь:

`curl -i -X POST -H "Content-Type: application/json" -d '{"name":"Kate","password":"avito1", "is_admin":false}' http://localhost:8008/signup`

`curl -i -X POST -H "Content-Type: application/json" -d '{"name":"Vova","password":"avito2", "is_admin":true}' http://localhost:8008/signup`
  
#### Возможные ответы:

code 200: {"Message": "Sucessfully Register"} - сообщение об успешной регистрации 

code 400: {"Error": "Invalid Inputs"} - такая ошибка возникает, если неправильно поля в запросе были указаны или какие-то поля были забыты

code 500: {"Error": "Error Hashing Password"} - ошибка, которая может возникнуть при хешировании пароля

code 500: {"Error": "Cannot Create User Recor"} - ошибка, которая может возникнуть при сохранении нового пользователя в бд

#### **Авторизация пользователя:**
-------------------------- 
`curl -i -X POST -H "Content-Type: application/json" -d '{"name":"Kate","password":"avito1"}' http://localhost:8008/login`

`curl -i -X POST -H "Content-Type: application/json" -d '{"name":"Vova","password":"avito2"}' http://localhost:8008/login`

#### Возможные ответы:

code 200: {"toke": "someToken", "refreshtoken" : "someRefreshToken"} - успешная авторизация

code 400: {"Error": "Invalid Inputs"} - такая ошибка возникает, если неправильно поля в запросе были указаны или какие-то поля были забыты

code 401: {"Error": "Invalid User Credentials"} - такая ошибка возникает, если было неправильно введено имя или пароль

code 500: {"Error": "Error Signing Token"} - ошибка, которая может возникнуть при генерации токена

#### **Создание баннера:**
-------------------------- 

`curl -X POST http://localhost:8008/banner -H "Content-Type: application/json" -H "token: TOKEN" -d '{"tag_ids": [2, 56, 65], "feature_id": 23, "content": {"title": "Example 2", "text": "Example 2", "url": "https://example2.com"}, "is_active": true}'`

#### Возможные ответы:

code 201: {"Code": 201, "banner_id" : 2} - возможный ответ, при успешном создании баннера

code 401: {"Code": 401, "Error" : "Пользователь не авторизован"} - ошибка, если пользователь не авторизовался и забыл указать токен, или указал уже не актуальный токен

code 400: {"Code": 400, "Error" : "Некорректные данные"} - ошибка, если пользователь забыл какие-то обязательные поля или неправильно их передал

code 403: {"Code": 403, "Error" : "Пользователь не имеет доступа"} - ошибка, если пользователь был не админом

code 500: {"Code": 403, "Error" : "Внутренняя ошибка сервера"} - ошибка, которая может возникнуть, если не удалось создать баннер и сохранить его в бд

#### **Получение баннера для пользователя:**
-------------------------- 

`curl -X GET http://localhost:8008/user_banner -H "Content-Type: application/json" -H "token: TOKEN" -d '{"tag_id": 2, "feature_id": 23, "use_last_version": false}'`

#### Возможные ответы:

code 200: {"Code": 200, "JSON-отображение баннера" : {"title": "Example 2", "text": "Example 2", "url": "https://example2.com"}} - успешное получение баннера

code 401: {"Code": 401, "Error" : "Пользователь не авторизован"} - ошибка, если пользователь не авторизовался и забыл указать токен, или указал уже не актуальный токен

code 400: {"Code": 400, "Error" : "Некорректные данные"} - ошибка, если пользователь забыл какие-то обязательные поля или неправильно их передал

code 403: {"Code": 403, "Error" : "Пользователь не имеет доступа"} - ошибка, если неправильный токен был введен

code 404: {"Code": 404, "Error" : "Баннер не найден"} - ошибка, если баннер по вводным данным не был найден в бд

code 500: {"Code": 500, "Error" : "Внутренняя ошибка сервера"} или  {"Code": 500, "Error" : "Не удалось записать данные в кеш"}

#### **Получение всех баннеров с фильтрацией по фиче и/или тегу:**
-------------------------- 

`curl -X GET http://localhost:8008/banner -H "Content-Type: application/json" -H "token: TOKEN" -d '{"tag_id": 2, "feature_id" : 23, "offset" : 0, "limit" : 11}'`

#### Возможные ответы:

code 200: {"Code": 200, "Content" : [{"title": "Example 2", "text": "Example 2", "url": "https://example2.com"}]} - успешное получение баннеров

code 401: {"Code": 401, "Error" : "Пользователь не авторизован"} - ошибка, если пользователь не авторизовался и забыл указать токен, или указал уже не актуальный токен

code 400: {"Code": 400, "Error" : "Неверный формат данных"} - ошибка, если пользователь забыл какие-то обязательные поля или неправильно их передал

code 404: {"Code": 404, "Error" : "Баннеры не найдены"} - ошибка, если баннеры по вводным данным не были найдены в бд

code 500: {"Code": 500, "Error" : "Внутренняя ошибка сервера"}

#### **Обновление баннера по id:**
-------------------------- 

`curl -X PATCH http://localhost:8008/banner/2 -H "Content-Type: application/json" -H "token: TOKEN" -d '{"tag_ids": [2], "feature_id": 23, "content" : {"NEW_TITLE":"HELLO"}, "is_active" : false}'`

#### Возможные ответы:

code 200: {"Code": 200} - успешное обновление баннера

code 401: {"Code": 401, "Error" : "Пользователь не авторизован"} - ошибка, если пользователь не авторизовался и забыл указать токен, или указал уже не актуальный токен

code 400: {"Code": 400, "Error" : "Некорректные данные"} - ошибка, если пользователь забыл какие-то обязательные поля или неправильно их передал

code 403: {"Code": 403, "Error" : "Пользователь не имеет доступа"} - ошибка, если неправильный токен был введен

code 404: {"Code": 404, "Error" : "Баннер не найден"} - ошибка, если баннер по вводным данным не был найден в бд

code 500: {"Code": 500, "Error" : "Внутренняя ошибка сервера"}

#### **Удаление баннера по id:**
-------------------------- 
`curl -X DELETE http://localhost:8008/banner/2 -H "token: TOKEN"`

#### Возможные ответы:

code 200: {"Code": 200} - успешное удаление баннера

code 401: {"Code": 401, "Error" : "Пользователь не авторизован"} - ошибка, если пользователь не авторизовался и забыл указать токен, или указал уже не актуальный токен

code 403: {"Code": 403, "Error" : "Пользователь не имеет доступа"} - ошибка, если неправильный токен был введен

code 404: {"Code": 404, "Error" : "Баннер для тэга не найден"} - ошибка, если баннер не был найден в бд

code 500: {"Code": 500, "Error" : "Внутренняя ошибка сервера"}
